# Описание форматов ответа на запросы
## Шаблон ответа на запрос
### Положительный ответ на запрос
В примере ниже представлен пример успешного ответа на запрос.
Ключ `status` есть в любом ответе сервера, при успешном результате,
его значение будет `success`. Следом будет идти ключ `data` в котором 
содержится данные, которые передаются в этом сообщении.
```
{
    "status": "success",
    "data": {
        "key": "value"
    }
}
```
### Отрицательный ответ на запрос
Пример ниже отражает общую структуру ответа на запрос. При ошибочном запросе,
свойство `status` будет иметь значение `error`, а после него будут следовать поля:
`code` и `message`. В поле `code` сообщается численный код ошибки, 
а в поле `message` текстовое описание ошибки.
```
{
    "status": "error",
    "code": 404,
    "message": "Not found",
}
```
## Численные коды ошибок
Численные коды ошибок предоставленны следующим образом

| Код |                          Описание ошибки                           |
|:---:|:------------------------------------------------------------------:|
| 400 |                Аргументы запроса не соответствуют.                 |
| 401 | Для выполнения запроса необходима авторизация, которая не пройдена |
| 404 |         Данные которые запрашиваются в запросе, не найдены         |
|     |                                                                    |

## API
## Описание форматов API
+ Каталог манги `/api/works`
    
    Данный раздел определяет функциональность работы каталога манги, 
    функциональность чтения и списка глав произведения.
+ Пользовательский интерфейс `/api/user`
    
    Данный раздел управляет функциональности аккаунта пользователя,
    такими как, регистрация, вход в аккаунт, добавление/удаления в/из избранное,
    добавление/удаление комментариев и т.п.
+ Ресурсный интерфейс `/api/resourses`
    
    Отвечает за загрузку файлов на сервер, их получение и просмотр баз данных
+ Административный интерфейс `/api/admin-tools`

    Отвечает за функции администрации сайта, таких как удаление аккаунта,
    Добавление/Удаление страниц произведений, глав произведений, аккаунтов и
    комментариев.

## API документация
### Интерфейс каталога манги
+ /api/works/catalog

  Описание: возвращает список каталога произведений, по заданным параетрам
  Аргумаенты
  + limt: int - лимит возвращаемых объектов
  + offs: int - смещение 
  + temp: str - шаблон, для фильтрации произведений по жанру

  Пример успешного запроса:
  ```
  {
    "status": "success",
    "data": {
      "catalog": [
      {
        "id": str,
        "ru_name": str,
        "desc": str,
        "pre_img": int,
        "genre": str
      }]
    }
  }
  ```
  В примере выше ответ на запрос содержит следующие параметры
  + catalog - список произведений представленный следующим образом:
    + id - Уникальный индификатор произведения
    + ru_name - Название произведения на русском
    + desc - описание произведения
    + pre_img - id фото произведения
    + genre - жанр произведения


+ /api/works/search

  Описание: возвращает список каталога произведений, по заданным параетрам
  Аргумаенты
  + limt: int - лимит возвращаемых объектов
  + offs: int - смещение 
  + temp: str - шаблон, для фильтрации произведений по названию

  Пример успешного запроса:
  ```
  {
    "status": "success",
    "data": {
      "catalog": [
      {
        "id": str,
        "ru_name": str,
        "desc": str,
        "pre_img": int,
        "genre": str
      }]
    }
  }
  ```
  В примере выше ответ на запрос содержит следующие параметры
  + catalog - список произведений представленный следующим образом:
    + id - Уникальный индификатор произведения
    + ru_name - Название произведения на русском
    + desc - описание произведения
    + pre_img - id фото произведения
    + genre - жанр произведения
### Ресурсный интерфейс
+ /api/resourses

  Описание: загружает файл на сервер
  + file: blob - загружаемый файл
  + file_name: str - имя файла, которе будет загруженно на сервер

  Пример успешного запроса:
  ```
  {
    "status": "success",
    "data": {}
  }
  ```
  В примере выше ответ на запрос не содержит поля.